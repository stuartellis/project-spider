#!/usr/bin/env just --justfile
#
# App Configuration for Just Task Runner
#
# See: https://just.systems/man/en/

alias build := pyinst-build

# Lists available recipes
default:
    @just --list

# Create requirements file for development
dev-deps:
    @pip-compile --generate-hashes --strip-extras requirements.in

# Create virtual environment file for development
dev-init:
    #!/usr/bin/env sh
    set -eu
    python3 -m venv .venv
    . .venv/bin/activate
    pip install --upgrade pip
    pip install -r requirements.txt

# Create requirements file for PyInstaller
pyinst-deps:
    @pip-compile --generate-hashes --strip-extras requirements-build.in

# Create executable with PyInstaller
pyinst-build:
    @pyinstaller --onefile --name pspider src/project_spider/cli/__init__.py

# Remove files generated by PyInstaller
pyinst-clean:
    @rm -fr ./build ./dist *.spec
